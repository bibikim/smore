<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.gdu.smore.mapper.ListMapper">

	<select id="selectStudyListCount" resultType="int">
		SELECT COUNT (*)
		  FROM S_GROUP
	</select>

	<select id="selectStudyListByMap" parameterType="Map" resultType="StudyGroupDTO">
		SELECT ROW_NUMBER() OVER(ORDER BY STUD_NO DESC) AS ROW_NUM, NICKNAME, TITLE, LANG, STUD_DATE, HIT, CREATE_DATE
          FROM S_GROUP
		 WHERE NICKNAME = #{nickname}
	</select>

	<delete id="deleteStudyList" parameterType="List">
		 DELETE
		   FROM S_GROUP
		<where>
			STUD_NO IN
			<foreach collection="list" item="studNo" open="(" close=")" separator=",">
				#{studNo}
			</foreach>
		</where>
	</delete>
	
	<select id="selectZzimListCount" resultType="int">
		SELECT COUNT (*)
		  FROM S_ZZIM
	</select>
	
	<select id="selectZzimListByMap" parameterType="Map" resultType="StudyZzimDTO">
		SELECT ROW_NUMBER() OVER(ORDER BY STUD_NO DESC) AS ROW_NUM, NICKNAME, TITLE, LANG, STUD_DATE, HIT, CREATE_DATE
          FROM S_ZZIM
		 WHERE NICKNAME = #{nickname}
	</select>
	
	<delete id="deleteZzimList" parameterType="List">
		 DELETE
		   FROM S_ZZIM
		<where>
			STUD_NO IN
			<foreach collection="list" item="studNo" open="(" close=")" separator=",">
				#{studNo}
			</foreach>
		</where>
	</delete>
   
</mapper>